-- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤–µ—Å –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–≤—è–∑–µ–π:
-- dictionary ‚Üí study_level ‚Üí study_levels
-- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ quiz_weight –ø–æ –∫–∞–∂–¥–æ–º—É —Å–ª–æ–≤—É

CREATE OR REPLACE VIEW view_word_weight AS
SELECT
  d.word_id,                            -- ID —Å–ª–æ–≤–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã dictionary
  d.word_src,                           -- –°–ª–æ–≤–æ –Ω–∞ –∏–∑—É—á–∞–µ–º–æ–º —è–∑—ã–∫–µ (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ, –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —è–∑—ã–∫—É)
  d.lev_id,                             -- ID —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å–ª–æ–≤–∞ (–∏–∑ study_level)
  sl.weight_value                       -- –í–µ—Å —É—Ä–æ–≤–Ω—è, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å —ç—Ç–∏–º —Å–ª–æ–≤–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1.0, 1.3, 1.6)
FROM dictionary d
JOIN study_level sl_map
  ON d.lev_id = sl_map.lev_id           -- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ —É—Ä–æ–≤–Ω–µ–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –≤ —Å–ª–æ–≤–∞—Ä–µ
JOIN study_levels sl
  ON sl_map.lev_name = sl.level_word    -- –°–≤—è–∑—å –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —É—Ä–æ–≤–Ω—è —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º
WHERE sl.weight_value IS NOT NULL;      -- –ò—Å–∫–ª—é—á–∞–µ–º —É—Ä–æ–≤–Ω–∏ –±–µ–∑ –≤–µ—Å–∞ (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ –≤ —Ä–∞—Å—á—ë—Ç–∞—Ö)

-- üìå –≠—Ç–æ—Ç VIEW:
-- –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ quiz_weight, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ –≤—Å–µ —Å–ª–æ–≤–∞
-- –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –≤–µ—Å–æ–≤ —Å–ª–æ–≤
-- –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ calculate_quiz_weight_with_fetch(...)