-- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–µ–º–∞–º –∏ —É—Ä–æ–≤–Ω—è–º
CREATE OR REPLACE VIEW view_user_progress_by_theme AS
SELECT
  u.client_id,                 -- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  u.cat_id,                    -- ID —Ç–µ–º—ã
  u.level_id,                  -- ID —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  wc.cat_name,                 -- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã (—á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ)
  sl.lev_name,                 -- –ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–Ω–∞—á–∞–ª—å–Ω—ã–π")
  u.total_words,               -- –û–±—â–µ–µ —á–∏—Å–ª–æ —Å–ª–æ–≤ –≤ —Ç–µ–º–µ
  u.learned_words,             -- –°–∫–æ–ª—å–∫–æ –∏–∑ –Ω–∏—Ö —É–∂–µ –≤—ã—É—á–µ–Ω–æ
  u.percent_done,              -- –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–º—ã (0.00‚Äì1.00)
  u.updated_at                 -- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
FROM user_progress_by_theme u
JOIN word_category wc ON u.cat_id = wc.cat_id
JOIN study_level sl ON u.level_id = sl.lev_id;


-- üìå –≠—Ç–æ—Ç VIEW:
-- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
-- –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç user_progress_by_theme —Å —Ç–µ–∫—Å—Ç–∞–º–∏ —Ç–µ–º –∏ —É—Ä–æ–≤–Ω–µ–π
-- –¥–∞—ë—Ç —á–∏—Ç–∞–µ–º—ã–π –∏ –≥–æ—Ç–æ–≤—ã–π –∫ –æ—Ç—á—ë—Ç–∞–º —Ñ–æ—Ä–º–∞—Ç