распределение в нижней таблице не корректно.

сейчас у меня 5.4% начального уровня. по нашей матрице (level_matrix) это level_id_client = 1 & 2.

Когда я достигну 50% мне должен присвоиться уровень а1. далее у меня остается уровень а1 пока я не выучу все 100% слов начального уровня и тд. если тебе уже присвоен уровень, то даунгрейдинг запещен. также запрещено перескакивать через уровень. то есть ты дальше должен идти уровень за уровнем.

также у меня есть 2.1% среднего уровня. по нашей матрице (level_matrix) это level_id_client = 3 & 4. Соответственно когда я выучу 50% слов среднего уровня и у меня уже будут закрыты уровни level_id_client = 1 & 2 (то есть а1 и а2), то мне будет присвоен уровень level_id_client = 3 или b1.

Теперь логика понятна?

полагаю чтобы исправить эту ситуацию в level_matrix также нужно добавить lev_id (начальный, средний, продвинутый) и сметчить их между собой.

обязательно нужно сделать подробную инструкцию по присвоению уровня CEFR, чтобы ни у кого не возникало путаницы